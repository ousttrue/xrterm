<!doctype html>
<html>
  <head>
    <meta charset='utf-8'>
    <title>aframe-xterm-component</title>

    <!-- Essential -->
    <link rel="stylesheet" href="dist/lib/xterm/xterm.css" />
    <script type="text/javascript" src="dist/lib/xterm/xterm.js"></script>
    <script type="text/javascript" src="dist/lib/aframe/aframe.min.js"></script>

    <!-- Optional -->
    <script type="text/javascript" src="dist/shaders/skyGradient.js"></script>
    <script type="text/javascript" src="dist/lib/aframe/aabb-collider.js"></script>
    <script type="text/javascript" src="dist/lib/aframe/grab.js"></script>
    <script type="text/javascript" src="dist/lib/aframe/aframe-event-set-component.min.js"></script>
    <script type="text/javascript" src="dist/lib/aframe-xterm-component/aframe-xterm-component.js"></script>
    <script type="text/javascript" src="dist/lib/aframe-gui/aframe-gui.min.js"></script>
    <script type="text/javascript" src="dist/lib/aframe-html-shader/aframe-html-shader.min.js"></script>

    <!-- Main -->
    <script type="text/javascript" src="src/xrterm.js"></script>
    <script type="text/javascript">
     init();
    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse" fog="color: #bc483e; near: 0; far: 65;">

      <a-curvedimage
        class="terminal"
        xterm-example
        xterm="theme_background: white; theme_foreground: black; rows: 40; cols: 138;"
        theta-length="60"
        radius="6"
        height="4"
        rotation="0 150 0"
        position="0 -1 -1.5"
        mixin="term"
      ></a-curvedimage>

      <a-curvedimage
        class="terminal"
        xterm-example
        xterm="theme_background: white;
               theme_foreground: black;"
        theta-length="60"
        radius="6"
        height="4"
        rotation="0 150 0"
        position="0 4 2"
        mixin="term"
      ></a-curvedimage>

      <!--   Cube selection -->
      <a-assets>
        <a-mixin id="cube"
                 event-set__grab="material.color: #FFEF4F"
                 event-set__grabend="material.color: #F2E646"
                 event-set__hit="material.color: #F2E646"
                 event-set__hitend="material.color: #EF2D5E"
                 event-set__mousedown="material.color: #FFEF4F"
                 event-set__mouseenter="material.color: #F2E646"
                 event-set__mouseleave="material.color: #EF2D5E"
                 event-set__mouseup="material.color: #F2E646"
                 geometry="primitive: box; height: 0.30; width: 0.30; depth: 0.30"
                 material="color: #EF2D5E;"></a-mixin>
        <!-- Terminal mixin -->
        <a-mixin id="term"
                 <!-- event-set__grab="material.color: #FFEF4F" -->
                 <!-- event-set__grabend="material.color: #F2E646" -->
                 <!-- event-set__hit="material.color: #F2E646" -->
                 <!-- event-set__hitend="material.color: #EF2D5E" -->
                 <!-- event-set__mousedown="material.color: #FFEF4F" -->
                 <!-- event-set__mouseenter="material.color: #F2E646" -->
                 <!-- event-set__mouseleave="material.color: #EF2D5E" -->
                 <!-- event-set__mouseup="material.color: #F2E646" -->
                 material="color: #EF2D5E;"></a-mixin>
      </a-assets>

      <!-- A-Frame cubes -->
      <a-entity position="2 0 -0.5">
        <a-entity class="cube" mixin="cube" position="0.30 1.65 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0 1.95 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.30 1.65 0"></a-entity>

        <a-entity class="cube" mixin="cube" position="0.60 1.35 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.60 1.05 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.60 0.75 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.60 0.45 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0.60 0.15 0"></a-entity>

        <a-entity class="cube" mixin="cube" position="0.30 0.75 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="0 0.75 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.30 0.75 0"></a-entity>

        <a-entity class="cube" mixin="cube" position="-0.60 1.35 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.60 1.05 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.60 0.75 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.60 0.45 0"></a-entity>
        <a-entity class="cube" mixin="cube" position="-0.60 0.15 0"></a-entity>

        <!-- html browser (not web (yet))-->
        <a-entity geometry="primitive: plane" material="shader: html; target: #htmlElement"></a-entity>

        <!-- Environment -->
        <a-entity id="sky"
                  geometry="primitive: sphere; radius: 65;"
                  material="shader: skyGradient; colorTop: #353449; colorBottom: #BC483E; side: back"></a-entity>
        <!-- <a-entity ground>dist/data/ground.json</a-entity> -->
        <a-entity light="type: point; color: #f4f4f4; intensity: 0.2; distance: 0" position="8 10 18"></a-entity>
        <a-entity light="type: point; color: #f4f4f4; intensity: 0.6; distance: 0" position="-8 10 -18"></a-entity>
        <a-entity light="type: ambient; color: #f4f4f4; intensity: 0.4;" position="-8 10 -18"></a-entity>
      </a-entity>
      <!-- Hands -->
      <a-entity laser-controls raycaster="objects: .terminal" hand-controls="left" aabb-collider="objects: .cube;" grab></a-entity>
      <a-entity laser-controls raycaster="objects: .terminal" hand-controls="right" aabb-collider="objects: .cube;" grab></a-entity>
      <a-entity position="0 1.6 2" camera look-controls></a-entity>
    </a-scene>
    <div style="width: 100%; height: 100%; position: fixed; left: 0; top: 0; z-index: -1; overflow: hidden">
      <div id="htmlElement" style="background: #F8F8F8; color: #333; font-size: 48px">Hello, HTML!</div>
    </div>

  </body>
</html>
